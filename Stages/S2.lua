Set2={
	name =GetString( MAHELPER_ARENA_2 ),
	nR = 4,
	rounds = {			
		--first round
		[1] = {
			nWave =3,
			Waves = {
				[1] = {
					nMOB = 3,
					Mobs = {
						[1] = {posx=36772, posy=47592, posz=31112, texture = "MAHelper/Icons/Signal.dds", X=0.54299753904343,Y=0.49385750293732, c =1}, 
						[2] = {posx=34962, posy=47583, posz=29141, texture = "MAHelper/Icons/Signal.dds",X=0.49877148866653,Y=0.44717445969582, c = 1 },
						[3] = {posx=33008, posy=47583, posz=31107, texture = "MAHelper/Icons/Signal.dds",X=0.45208844542503,Y=0.49140048027039, c = 1 },
					},
				},
				[2] = {
					nMOB = 3,
					Mobs = {
						[1] = {posx=36772, posy=47592, posz=31112, texture = "MAHelper/Icons/Signal.dds",X=0.54299753904343,Y=0.49385750293732, c = 1 }, 
						[2] = {posx=34962, posy=47583, posz=29141, texture = "MAHelper/Icons/Signal.dds",X=0.49877148866653,Y=0.44717445969582, c = 1 },
						[3] = {posx=33008, posy=47583, posz=31107, texture = "MAHelper/Icons/Signal.dds", X=0.45208844542503,Y=0.49140048027039, c = 1},
					},
				},
				[3] = {
					nMOB = 1,
					Mobs = {
						[1] = {posx=34962, posy=47583, posz=29141, texture = "MAHelper/Icons/BossRMael.dds", X=0.49877148866653,Y=0.44717445969582, c = 2},
					},
				},
			},
		},
		--second round
		[2] = {
			nWave =3,
			Waves = {
				[1] = {
					nMOB = 3,
					Mobs = {
						[1] = {posx=36772, posy=47592, posz=31112, texture = "MAHelper/Icons/Signal.dds", X=0.54299753904343,Y=0.49385750293732, c =1}, 
						[2] = {posx=34962, posy=47583, posz=29141, texture = "MAHelper/Icons/Signal.dds", X=0.49877148866653,Y=0.44717445969582, c = 1},
						[3] = {posx=33008, posy=47583, posz=31107, texture = "MAHelper/Icons/Signal.dds",X=0.45208844542503,Y=0.49140048027039, c = 1 },
					},
				},
				[2] = {
					nMOB = 3,
					Mobs = {
						[1] = {posx=36772, posy=47592, posz=31112, texture = "MAHelper/Icons/Signal2.dds",X=0.54299753904343,Y=0.49385750293732, c =1}, 
						[2] = {posx=34962, posy=47583, posz=29141, texture = "MAHelper/Icons/Signal2.dds", X=0.49877148866653,Y=0.44717445969582, c = 1},
						[3] = {posx=33008, posy=47583, posz=31107, texture = "MAHelper/Icons/Signal2.dds",X=0.45208844542503,Y=0.49140048027039, c = 1 },
					},
				},
				[3] = {
					nMOB = 3,
					Mobs = {
						[1] = {posx=36772, posy=47592, posz=31112, texture = "MAHelper/Icons/Signal3.dds",X=0.54299753904343,Y=0.49385750293732, c =1}, 
						[2] = {posx=34962, posy=47583, posz=29141, texture = "MAHelper/Icons/BossRMael.dds", X=0.49877148866653,Y=0.44717445969582, c = 2},
						[3] = {posx=33008, posy=47583, posz=31107, texture = "MAHelper/Icons/Signal3.dds",X=0.45208844542503,Y=0.49140048027039, c = 1},
					},
				},
			},
		},
		--third round
		[3] = {
			nWave =3,
			Waves = {
				[1] = {
					nMOB = 3,
					Mobs = {
						[1] = {posx=36772, posy=47592, posz=31112, texture = "MAHelper/Icons/Signal.dds",X=0.54299753904343,Y=0.49385750293732, c =1}, 
						[2] = {posx=34962, posy=47583, posz=29141, texture = "MAHelper/Icons/Signal.dds", X=0.49877148866653,Y=0.44717445969582, c = 1},
						[3] = {posx=33008, posy=47583, posz=31107, texture = "MAHelper/Icons/Signal.dds", X=0.45208844542503,Y=0.49140048027039, c = 1},
					},
				},
				[2] = {
					nMOB = 3,
					Mobs = {
						[1] = {posx=36772, posy=47592, posz=31112, texture = "MAHelper/Icons/Signal2.dds",X=0.54299753904343,Y=0.49385750293732, c =1 }, 
						[2] = {posx=34962, posy=47583, posz=29141, texture = "MAHelper/Icons/Signal2.dds", X=0.49877148866653,Y=0.44717445969582, c = 1},
						[3] = {posx=33008, posy=47583, posz=31107, texture = "MAHelper/Icons/Signal2.dds",X=0.45208844542503,Y=0.49140048027039, c = 1 },
					},
				},
				[3] = {
					nMOB = 3,
					Mobs = {
						[1] = {posx=36772, posy=47592, posz=31112, texture = "MAHelper/Icons/Signal3.dds",X=0.54299753904343,Y=0.49385750293732, c =1}, 
						[2] = {posx=34962, posy=47583, posz=29141, texture = "MAHelper/Icons/BossRMael.dds", X=0.49877148866653,Y=0.44717445969582, c = 2},
						[3] = {posx=33008, posy=47583, posz=31107, texture = "MAHelper/Icons/Signal3.dds", X=0.45208844542503,Y=0.49140048027039, c = 1},
					},
				},
			},
		},
		--Boss	
		[4] = {
			nWave = 1,
			Waves = {
				[1] = {
					nMOB = 3,
					Mobs = {
						[1] = {posx=36772, posy=47592, posz=31112, texture = "MAHelper/Icons/BossRobot2.dds", X=0.54299753904343,Y=0.49385750293732, c = 3}, 
						[2] = {posx=34962, posy=47583, posz=29141, texture = "MAHelper/Icons/BossRobot1.dds", X=0.49877148866653,Y=0.44717445969582, c = 3},
						[3] = {posx=33008, posy=47583, posz=31107, texture = "MAHelper/Icons/BossRobot3.dds", X=0.45208844542503,Y=0.49140048027039, c = 3},
					},
				},
			},
		},
	},
}

CurrWeave = 1
NumK = 0
CurrStageArena = 1
token = true

function Set2.OnCheckingEffect()
end

function  Set2.OnTitleAnnounced(eventcode, title)
	NumK = 0 
	CurrWeave = 1
	CurrStageArena = MAHelper.OnTitleReturnRound(title)
	if CurrStageArena >= 1 then
		MAHelper.RemoveIcons()
		MAHelper.ListAddPosition(CurrStageArena , 1)
	end
end

function Set2.OnUnitKilled(eventCode,   result,  isError,  abilityName,  abilityGraphic,   abilityActionSlotType,  sourceName,   sourceType,   targetName,   targetType,  hitValue,   powerType,   damageType,  log,  sourceUnitId,  targetUnitId,  abilityId,  overflow)
	NumK = NumK + 1
	if NumK >= Set2.rounds[CurrStageArena].Waves[CurrWeave].nMOB then
		token = false 
		zo_callLater(function() token = true end, 4000)
		if CurrStageArena == Set3.nR then
			MAHelper.RemoveIcons()	
			do return end   
		end
		MAHelper.RemoveIcons()
		CurrWeave = CurrWeave +1
		if CurrWeave <= Set2.rounds[CurrStageArena].nWave then
			NumK = 0			
			MAHelper.ListAddPosition(CurrStageArena, CurrWeave)		
		else
			NumK=0
			CurrStageArena = CurrStageArena +1
			if CurrStageArena <= Set2.nR then 			
				MAHelper.ListAddPosition(CurrStageArena, 1)	
			end
		end
	end
end
